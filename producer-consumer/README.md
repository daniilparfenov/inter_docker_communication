# Приложение для инвертирования изображения с использованием Producer-Consumer архитектуры

## Описание проекта
Приложение из исходного изображения генерирует новое, каждый пиксель которого инвертирован. 
Проект разбит на две программы: client(producer) и server(consumer). Взаимодействие между процессами 
происходит с помощью брокера сообщений RabbitMQ.

## Функционал проекта
- **Producer**
  - Делит входное изображение на строки фиксированной ширины, сериализует данные и отправляет серверу для обработки
  - Постепенно получает обработанные данные, десериализует их и собирает готовое инвертированное изображение
- **Consumer**
  - Ожидает подключения клиента
  - Получает блок изображения для обработки и десериализует его
  - Обрабатывает полученную часть изображения
  - Отправляет обратно клиенту, предварительно сериализуя

### Как происходит работа внутри контейнеров
1. Для работы проекта необходима библиотеки OpenCV и AMQP.
2. Для запуска необходимо указать путь до фото для producer:
   - Consumer:
     ```bash
     ./consumer
     ```
   - Producer:
     ```bash
     ./producer <path/to/photo.jpg>
     ```
3. Для сборки проекта использовалась билдовая система CMake. Для запуска следуйте следующей инструкции:
   ```bash
   mkdir build
   ```
   - **1-ый терминал:**
     ``` bash
     cd build
     cmake .. && cmake --build .
     ./consumer
     ```

   - **2-ой терминал:**
     ```bash
     cd build
     ./producer <path/to/photo.jpg>
     ```

## Запуск
Установите Docker, если он еще не установлен, и запустите следующую команду:

```bash
docker compose up --build
```
